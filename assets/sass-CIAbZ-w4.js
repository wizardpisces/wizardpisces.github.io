import{j as G,k as Te,_ as Ue,o as Pe,c as De,a as x,q as We,s as $e,b as he}from"./index-CN31fAmB.js";function Z(e){throw e}function B(e,t,r,n){let a=Be[e];typeof a=="function"?a=a(r):a+=`
`+(r||"");const f=new SyntaxError(String(a));return f.code=e,f.loc=t,f}const Be={0:"Unknown token type.",1:"Unknown char.",2:"Incorrect sourceLocation. start loc should be smaller than end loc.",3:"Expect text node after operator node.",4:e=>`Expected "${e}"`,5:"Unknown expression type.",6:"Unknown statement type.",7:"Undefined variable.",8:"Unknown evaluate binary type.",9:"Expect binary compute to be number.",10:"Unknown keyword."};function Ve(e,t){let r=0,n=1,a=1;return{next:f,peek:E,setCoordination:d,getCoordination:u,eof:k,croak:R,emitError:h};function f(){let p=e.charAt(r++);return p==`
`?(n++,a=1):a++,p}function d(p){r=p.offset,n=p.line,a=p.column}function u(){return{offset:r,line:n,column:a}}function E(){return e.charAt(r)}function k(){return E()===""}function R(p){throw new Error(p+" ("+n+":"+a+")")}function h(p,N={start:u(),end:u(),filename:t},l=""){Z(B(p,N,l))}}const I={filename:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function Xe(e){return{type:"KeyframesPrelude",children:e,loc:{start:e[0].loc.start,end:e[e.length-1].loc.end,filename:e[0].loc.filename}}}function Fe(e,t,r){return{type:"Atrule",name:e,block:r,prelude:t,loc:{start:t.loc.start,end:r.loc.end,filename:t.loc.filename}}}function Ke(e){return{type:"MediaFeature",name:e.left.value,value:e.right.value[0],loc:e.loc}}function ee(e){return{type:"MediaQuery",children:e,loc:I}}function Se(e){return{type:"MediaPrelude",children:e,loc:I}}function re(e,t){return{type:"Atrule",name:"media",block:t,prelude:e,loc:{start:e.loc.start,end:t.loc.end,filename:e.loc.filename}}}function Ye(e){return{loc:e.loc,value:e.value,type:"IDENTIFIER"}}function je(e,t){return{type:"CALL",id:e,args:t,loc:{start:e.loc.start,end:t.length?t[t.length-1].loc.end:e.loc.end,filename:e.loc.filename}}}function Je(e,t){return{type:"DECLARATION",left:e,right:t,loc:{start:e.loc.start,end:t.length?t[t.length-1].loc.end:t.loc.end,filename:e.loc.filename}}}function J(e){return{type:"LIST",value:e,loc:{start:e[0].loc.start,end:e[e.length-1].loc.end,filename:e[0].loc.filename}}}function ze(e,t,r){return{type:"MIXIN",id:e,params:t,body:r,loc:I}}function He(e,t,r){return{type:"FUNCTION",id:e,params:t,body:r,loc:I}}function Qe(e){return{type:"RETURN",argument:J(e),loc:I}}function ne(e,t,r=I){return{type:"RULE",selector:e,children:t,loc:r}}function qe(e=I){return{type:"CONTENT",loc:e}}function Ge(e,t,r){let n={type:"INCLUDE",id:e,args:t,loc:I};return r&&(n.content=r),n}function Ze(e,t,r){return{type:"IFSTATEMENT",test:e,consequent:t,alternate:r,loc:I}}function et(e,t,r){return{type:"EACHSTATEMENT",left:e,right:t,body:r,loc:I}}function tt(e,t){return{type:"VAR_KEY",value:e,loc:t}}function W(e="",t=I){return{type:"TEXT",value:e,loc:t}}function Y(e=W(),t=[]){return{type:"SELECTOR",meta:t,loc:e.loc,value:e}}function V(e=I){return{type:"EMPTY",loc:e}}function ke(e){return{type:"BODY",children:e,loc:I}}function rt(e,t,r=I){return{type:"RootNode",children:e,fileSourceMap:t,loc:r}}function nt(e){return ne(Y(W(""),[e.prelude]),e.block.children)}function lt(e){e.length||(e=[e]);function t(n){function a(d){let u=d.reduce((E,k)=>E.concat(k.children),[]);return ee(u)}let f=[];return n.forEach(d=>{f.length>0&&f.push(ee([W("and")])),f=f.concat(d.children)}),Se(f.length>1?[a(f)]:f)}let r=t(Array.from(new Set(e.reduce((n,a)=>n.concat(a.selector.meta),[]))));return e.forEach(n=>n.selector.meta=[]),re(r,ke(e))}const me=function(){let e=!1,t=0;return()=>!!(t++>20&&e)}();function ye(e){return" + - * / % ".indexOf(" "+e+" ")>=0}function at(e){return",;(){}#".indexOf(e)>=0}const ve={"=":1,"||":2,"&&":3,"<":7,">":7,"<=":7,">=":7,"==":7,"!=":7,"+":10,"-":10,"*":20,"/":20,"%":20};function pe(e){return e.indexOf("keyframes")>-1}function Ne(e){if(e.length<=1)return e;let t=[],r=W(" "),n=0,a,f;for(;n<e.length-1;)a=e[n],f=e[n+1],t.push(a),f.loc.start.offset>a.loc.end.offset&&t.push(r),n++;return t.push(e[n]),t}function ce(e){return JSON.parse(JSON.stringify(e))}function z(e){return e.type==="EMPTY"}function Ce(e){return e.type==="Atrule"&&e.name==="media"}function it(e){let t=[],r=0;for(;e--;)t.push(r++);return t}const ut={type:"UNKNOWN",value:"Unknown"},ot={type:"UNKNOWN",value:"Null"};function ct(e){let t="!=><",r=["==","!=",">=","<=",">","<"],n=["url"];return{next:ae,peek:q,eliminateWhitespace:ie,eof:ue,getCoordination:e.getCoordination,setCoordination:e.setCoordination,emitError:e.emitError};function a(o){return"/".indexOf(o)>=0}function f(o){return/[$]/.test(o)}function d(){c(function(o){return o!=`
`}),e.next()}function u(o){return t.indexOf(o)>=0}function E(o){return r.indexOf(o)>=0}function k(o){return":".indexOf(o)>=0}function R(o){return/[a-z0-9_\.\#\@\%\-"'&\[\]]/i.test(o)}function h(o){return f(o)||/[a-z0-9_-]/i.test(o)}function p(o){return o==="@"}function N(o){return o==="%"}function l(o){return` 	
`.indexOf(o)>=0}function c(o){let b="";for(;!e.eof()&&o(e.peek());)b+=e.next();return b}function g(o){let b=w(")");return e.next(),{type:"TEXT",value:`${o}${b})`}}function y(){let o=c(R);return n.includes(o)?g(o):{type:"KEYWORD",value:o}}function A(){return{type:"DECLARATION",value:e.next()}}function C(){return{type:"VARIABLE",value:c(h).trim()}}function m(o){return{type:"OPERATOR",value:o}}function w(o){let b="",K=typeof o=="string"?P=>o===P:P=>o.test(P);for(;!e.eof();){let P=e.peek();if(K(P))break;e.next(),b+=P}return b.trim()}function L(){let o=w(/[,;{}():#\s]/);return n.includes(o)?g(o):{type:"TEXT",value:o}}function _(o){return a(e.peek())?(d(),F()):m(o)}function S(o){return R(e.peek())?{type:"PLACEHOLDER",value:o+c(R)}:m(o)}function X(o){return e.peek()===" "?m(o):{type:"TEXT",value:o+L().value}}function H(o){return E(o)?m(o):{type:"TEXT",value:o+L().value}}function Q(o){return{type:"PUNC",value:o}}function U(o){return e.peek()==="{"?Q(o):{type:"TEXT",value:o+L().value}}function F(){if(c(l),e.eof())return ot;let o=e.peek();return a(o)?_(e.next()):N(o)?S(e.next()):k(o)?A():f(o)?C():at(o)?o==="#"?U(e.next()):Q(e.next()):p(o)?y():ye(o)?X(c(ye)):u(o)?H(c(u)):R(o)?L():(e.emitError(1),ut)}function le(o=1){let b=e.getCoordination(),K=F();for(;--o;)K=F();return e.setCoordination(b),K}function q(o=1){return le(o)}function ae(){return F()}function ie(){c(l)}function ue(){return q().type==="UNKNOWN"}}function st(e,t){const{filename:r,source:n}=t;function a(){return u(";")}function f(){c=()=>u(",")||u(")")}function d(){c=a}function u(s){let i=e.peek();return i&&i.type=="PUNC"&&(!s||i.value==s)&&i}function E(s){let i=e.peek();return i&&i.type=="KEYWORD"&&(!s||i.value==s)&&i}function k(){let s=e.peek();return s&&s.type=="KEYWORD"&&pe("keyframes")}function R(s){let i=e.peek();return i&&i.type=="OPERATOR"&&!s?i:!1}function h(){let s=e.peek();return s&&s.type==="DECLARATION"}function p(s,i=!1){u(s)?e.next():!i&&e.emitError(4,y().loc,s)}function N(s){return p(s,!0)}function l(s,i,v,T){let O=[],D=!0;for(p(s);!e.eof()&&!(me()||u(i)||(D?D=!1:v===";"?N(v):p(v),u(i)));)O.push(T());return p(i),O}let c=a;function g(s){return function(...v){e.eliminateWhitespace();let T=e.getCoordination(),O=s.apply(null,v),D=e.getCoordination();if(O.type==="BINARY"||O.type==="DECLARATION"){let j=v[0];if(j){for(;j.type==="BINARY";)j=j.left;T=j.loc.start}}let xe={start:T,end:D,filename:r};return T.offset>=D.offset&&e.emitError(2),{...O,loc:xe}}}const y=g(()=>e.next()),A=g(function(){function i(v=()=>!a()){let T=[];for(;v();)T.push(m());return{type:"LIST",value:T}}return{type:"ERROR",value:i()}});function C(){return m("scan_right")}function m(s=""){if(E("@extend"))return e.next(),Q();if(E("@mixin"))return e.next(),le();if(E("@content")){let v=y();return F(v.loc)}if(E("@function"))return e.next(),q();if(E("@return"))return e.next(),ae();if(E("@include"))return e.next(),ue();if(E("@import"))return e.next(),o();if(E("@if"))return e.next(),b();if(E("@each"))return e.next(),K();if(E("@error"))return e.next(),A();let i=e.peek();if(i.type==="VARIABLE"||i.type==="PLACEHOLDER")return y();if(i.type==="PUNC")return i.value==="#"?Le():y();if(i.type==="TEXT")return s==="scan_right"?ie(y()):P();if(i.type=="KEYWORD"){if(E("@media"))return e.next(),L();if(k()){let v=e.next();return w(v.value)}return e.emitError(10,y().loc,i.value)}return e.emitError(0,y().loc,i.type)}function w(s){let i=[];for(;!u("{");)i.push(m());let v=U();return Fe(s,Xe(i),v)}function L(){let s=[],i=[];for(f();!u("{");)if(u(","))s.push(ee(i)),i=[],p(",");else if(u("(")){p("(");let T=y(),O=S(T);i.push(Ke(O)),p(")")}else i.push(y());d(),i.length&&(s.push(ee(i)),i=[]);let v=U();return re(Se(s),v)}function _(){let s=[];for(;!c()&&!me();){if(h()||u("{")){let v=y();e.emitError(4,v.loc,";")}let i=X(C(),0);s.push(i)}return s}function S(s){e.next();let i=J(_());return Je(s,i)}function X(s,i){if(R()){let v=R();if(ve[v.value]>i){v=y();let T=y();return T.type!=="TEXT"&&T.type!=="VARIABLE"&&e.emitError(3,T.loc),X({type:"BINARY",operator:v,left:s,right:X(T,ve[v.value]),loc:{start:s.loc.start,end:T.loc.end,filename:r}},i)}}return s}function H(s){let i=l("{","}",";",$);return ne(s,i)}function Q(){return{type:"EXTEND",param:y(),loc:I}}function U(){let s=l("{","}",";",$);return ke(s)}function F(s){return qe(s)}function le(){let s={type:"IDENTIFIER",value:e.next().value,loc:I},i=[];return u("{")||(f(),i=l("(",")",",",$)),d(),ze(s,i,U())}function q(){let s={type:"IDENTIFIER",value:e.next().value,loc:I},i=[];return u("{")||(f(),i=l("(",")",",",$)),d(),He(s,i,U())}function ae(){return Qe(_())}function ie(s){if(u("(")){f();let i=je(Ye(s),l("(",")",",",$));return d(),i}return s}function ue(){let s={type:"IDENTIFIER",value:e.next().value,loc:I},i=[],v;return u(";")||(f(),i=l("(",")",",",()=>oe(C))),d(),u("{")&&(v=U()),Ge(s,i,v)}function o(){function s(T){return T.value=T.value.match(/^['"](.+)['"]$/)[1],T}let i=e.peek(),v=[];for(!i.value.startsWith("'")&&!i.value.startsWith('"')&&e.emitError(4,I,`@import expected with ' or " but encountered ${i}`);!u(";");)v.push(s(y())),u(",")&&p(",");return{type:"IMPORT",params:v,loc:I}}function b(){let s=null,i,v;if(i=X(m(),0),v=U(),E("@else")){e.next();let T=e.peek();T.type==="TEXT"&&T.value==="if"?(e.next(),s=b()):s=U()}return Ze(i,v,s)}function K(){let s=m();e.next();let i=m();p("{");let v=$();return p("}"),et(s,i,v)}function P(){function s(T){let O=[];for(;!e.eof()&&T(e.peek());)O.push(y());return O}let i=s(T=>T.type==="TEXT"),v=J(i);return{type:"TEXT",value:Ne(i).map(T=>T.value).join(""),loc:v.loc}}function Le(){function s(T){p("{");let O=y();return O.type!=="VARIABLE"&&e.emitError(7,O.loc,`${O} should be a variable which starts with '$'`),p("}"),tt(O.value,{start:T,end:O.loc.end,filename:r})}let i=y();if(u("{"))return s(i.loc.start);let v=y();return v.type!=="TEXT"&&e.emitError(4,v.loc,`[maybeVarKeyWrapper]: expect str token but received ${v.value}`),W(i.value+v.value,{start:i.start,end:v.end,filename:r})}function oe(s){let i=s();if(h()){if(i.type==="VARIABLE")return S(i);let v=1,T;for(;;){if(T=e.peek(v),T.value===";"||T.value==="}")return S(i);if(T.value==="{")return H(Y(J(it(v-1).map(()=>{let D=y();return D.type="TEXT",D}))));v++}}return u("#")?oe(()=>J(i.type==="LIST"?i.value.concat(m()):[i].concat(m()))):u("{")?H(Y(i)):i}function $(){return oe(function(){return m()})}function Oe(){return e.eof()}function be(){let s=[];for(;!Oe();)s.push($()),N(";");return s}function Me(){return rt(be(),{[r]:n})}return Me()}function fe(e,t){return st(ct(Ve(e,t.filename)),t)}class ft{constructor(){this._enterWalkers=new Set,this._leaveWalkers=new Set,this._applied=!1}_addEnterWalker(t){this._enterWalkers.add(t)}_addLeaveWalker(t){this._enterWalkers.add(t)}_walk(t,r){this._runEnterWalkers(t,r),t.type==="RULE"&&t.children.forEach((n,a)=>{this._walk(n,t.children)}),this._runLeaveWakers(t,r)}applyPlugins(t){this._applied||(this._applied=!0,t.children.forEach(r=>this._walk(r,t.children)))}registerPlugin(t){if(typeof t=="function")return this._addEnterWalker(t);t.enter&&this._addEnterWalker(t.enter),t.leave&&this._addLeaveWalker(t.leave)}_createContext(t,r){return{remove(n){r.splice(r.indexOf(n),1)},insert(n){r.splice(r.indexOf(t)+1,0,n)}}}_runEnterWalkers(t,r){this._enterWalkers.forEach(n=>n.call(this,t,this._createContext(t,r)))}_runLeaveWakers(t,r){this._leaveWalkers.forEach(n=>n.call(this,t,this._createContext(t,r)))}}const pt=new ft;function dt(e){return pt.applyPlugins(e)}class ht{constructor(t){this.selectorNode=t}toJSON(){return this.selectorNode}genCSS(t){let r=this.selectorNode;try{t.push(r.value.value,r.loc)}catch(n){console.log("*********** genSelector **************",n)}}}class te{constructor(t,r){Ce(t)?this.ruleStatement=nt(t):r?this.ruleStatement=ne(t,r):this.ruleStatement=t}addMeta(t){return this.ruleStatement.selector.meta=mt(this.ruleStatement.selector.meta,t),this}toJSON(){return this.ruleStatement}genCSS(t){let r=this.ruleStatement;const{push:n,deindent:a,indent:f,newline:d}=t;new ht(r.selector).genCSS(t),n("{"),f(),r.children.forEach((u,E)=>{E&&!z(u)&&d(),new vt(u).genCSS(t)}),a(),n("}")}}function mt(e,t){return e.concat(t)}function Re(e,t){const{push:r,deindent:n,indent:a,newline:f}=t;r("{"),a(),e.forEach((d,u)=>{new te(d).genCSS(t),u!==e.length-1&&f()}),n(),r("}")}class Ae{constructor(t,r){t.length||t.type==="RULE"?this.mediaStatement=lt(t):r?this.mediaStatement=re(t,r):this.mediaStatement=t}toJSON(){return this.mediaStatement}accept(t){}genCSS(t){let r=this.mediaStatement;t.push("@media "),yt(r.prelude,t),Re(r.block.children,t)}}function yt(e,t){let r=e.children.map(n=>n.children.map(a=>{if(a.type==="MediaFeature")return`(${a.name}:${a.value.value})`;if(a.type==="TEXT")return a.value}).join(" ")).join(",");t.push(r)}class Ee{constructor(t){this.textNode=t}toJSON(){return this.textNode}genCSS(t){let r=this.textNode;t.push(r.value,r.loc)}}class vt{constructor(t){this.declarationStatement=t}toJSON(){return this.declarationStatement}genCSS(t){let r=this.declarationStatement;const{push:n}=t;new Ee(r.left).genCSS(t),n(":"),new Ee(r.right).genCSS(t),n(";")}}class Et{constructor(t){this.keyframes=t}toJSON(){return this.keyframes}genCSS(t){let r=this.keyframes;t.push(r.name+" "),_t(r.prelude,t),Re(r.block.children,t)}}function _t(e,t){t.push(e.children.map(r=>r.value).join(" "),e.loc)}function gt(e,{sourceMap:t=!1}){const r={code:"",sourceMap:t,column:1,line:1,offset:0,indentLevel:0,push(a,f){r.code+=a},indent(){n(++r.indentLevel)},deindent(a=!1){a?--r.indentLevel:n(--r.indentLevel)},newline(){n(r.indentLevel)}};function n(a){r.push(`
`+"  ".repeat(a))}return r}function Tt(e,t={}){dt(e);const r=gt(e,t);return e.children.forEach((n,a)=>{St(n,r),r.newline()}),{ast:e,code:r.code,map:r.map?r.map.toJSON():void 0}}function St(e,t){switch(e.type){case"RULE":new te(e).genCSS(t);break;case"Atrule":kt(e,t);break;case"EMPTY":break;default:throw new Error("Don't know how to genNode for "+JSON.stringify(e))}}function kt(e,t){if(e.name==="media")return new Ae(e).genCSS(t);if(pe(e.name))return new Et(e).genCSS(t)}class Nt{constructor(t,r){this.kind="VARIABLE",this.kind=t,this._value=r}get value(){return this._value}set value(t){this._value=t}}class de{constructor(t){this.vars=Object.create(t?t.vars:null),this.parent=t}extend(){return new de(this)}lookup(t,r){let n=this;for(;n;){if(n.vars[r]&&n.vars[r][t])return n;n=n.parent}}get(t,r="VARIABLE"){let n=this.lookup(t,r);return n?n.vars[r][t].value:null}def(t,r="",n="VARIABLE"){return this.vars[n]||(this.vars[n]={}),this.vars[n][t]=new Nt(n,r)}}function Ct(...e){return e[0].block.children=e.reduce((t,r)=>t.concat(r.block.children),[]),re(e[0].prelude,e[0].block)}function Rt(e,t){return e.children.length!==t.children.length?!1:e.children.every((r,n)=>r===t.children[n])}function At(e){function t(r,n){r.forEach((a,f)=>{if(a.type==="RULE")a=new te(a).addMeta(n).toJSON(),t(a.children,a.selector.meta.slice());else if(a.type==="Atrule"&&a.name==="media"){let d=new te(a).addMeta(n).toJSON();r.splice(f,1,d),t(d.children,d.selector.meta.slice())}})}t(e.children,[])}function wt(e){function t(n){n.children.forEach((a,f)=>{if(a.type==="RULE"&&a.selector.meta.length){let d=new Ae(a).toJSON();n.children.splice(f,1,d)}})}function r(n){let a=[],f=null;n.children.forEach(d=>{Ce(d)?f?Rt(f.prelude,d.prelude)?f=Ct(f,d):(a.push(f),f=d):f=d:(f&&a.push(f)&&(f=null),a.push(d))}),f&&a.push(f),n.children=a}t(e),r(e)}function It(e){function t(a,f=[]){function d(u,E=""){let k=!1,R=u.selector,h=R.value;return h.value.indexOf("&")>=0&&(k=!0,h.value=h.value.replace(/&/,E)),k||(h.value=(E+" "+h.value).trim()),f.push(u),u.children.forEach((p,N)=>{p.type==="RULE"&&(u.children.splice(N,1,V()),d(p,h.value))}),u.children=u.children.filter(p=>!z(p)),u.children.length===0&&f.splice(f.indexOf(u),1),f}return d(a)}function r(a){let f=[];a.children.forEach(d=>{d.type==="RULE"?f=f.concat(...t(d)):d.type==="BODY"?f=f.concat(d.children):f.push(d)}),a.children=f}function n(a){return At(a),r(a),wt(a),a}return n(e)}function Lt(e){let t={};function r(u){return u.type==="PLACEHOLDER"}function n(u){return u.type==="RULE"&&(r(u.selector.value)||u.children.length===0)?V():u}function a(u){function E(k){return k.children=k.children.map(R=>R.type==="EXTEND"?(t[R.param.value]=(t[R.param.value]||[]).concat(k.selector.value.value),V()):R).filter(R=>!z(R)),k}return u.type==="RULE"?E(u):u}function f(u){function E(k){return r(k.selector.value)?k.selector=Y(W(t[k.selector.value.value].join(","),k.selector.loc)):k.selector=Y(W(t[k.selector.value.value].concat(k.selector.value.value).join(","),k.selector.loc)),k}return u.type==="RULE"&&t[u.selector.value.value]?E(u):u}function d(u){return u.children=u.children.map(E=>a(E)),u.children=u.children.map(E=>f(E)),u.children=u.children.map(E=>n(E)).filter(E=>!z(E)),u}return d(e)}const Ot=e=>[It,Lt].reduce((t,r)=>r.call(null,t),e);function bt(e,{nodeTransforms:t=[],onError:r=Z,sourceDir:n="./"}){return{onError:r,nodeTransforms:t,root:e,sourceDir:n,env:new de(null)}}function Mt(e,t){const r=bt(e,t);xt(e,r),Ot(e)}function xt(e,t){const{nodeTransforms:r}=t;e.children=e.children.map(n=>{for(let a=0;a<r.length;a++)n=r[a](n,t);return n}).filter(n=>n.type!=="EMPTY")}function we(e,t,r){return e.apply(null,t.args.map(n=>n.type==="DECLARATION"?M(n.right,r).value:M(n,r).value))}function M(e,t){function r(h,p){switch(h.type){case"TEXT":return h;case"PUNC":return n(h);case"OPERATOR":return a(h);case"VARIABLE":return d(h,p);case"CALL":return u(h,p);case"VAR_KEY":return E(h,p);case"LIST":return k(h,p);case"BINARY":return R(h,p);default:throw B(5,h.loc,h.type)}}function n(h){return{...h,type:"TEXT"}}function a(h){return n(h)}function f(h){return h}function d(h,p){let N=p.env.get(h.value);return typeof N>"u"&&Z(B(7,h.loc,h.value)),{...h,type:"TEXT",value:N}}function u(h,p){function N(g){return g.id.value+"("+g.args.map(y=>y.type==="DECLARATION"?Z(B(4,y.loc,",")):M(y,p).value).join(",")+")"}let l=p.env.get(h.id.value,"FUNCTION"),c;return typeof l=="function"?c=we(l,h,p):c=N(h),{loc:h.loc,type:"TEXT",value:c}}function E(h,p){return d(h,p)}function k(h,p){return{type:"TEXT",loc:h.loc,value:Ne(h.value).map(N=>r(N,p).value).join("").trim()}}function R(h,p){let N=!1,l=!1,c="";function g(m){if(isNaN(parseFloat(m)))return m;if(m==="100%")return N=!0,1;if(!l){let w=m.match(/\d+([a-z]*)/);c=w&&w.length>0?w[1]:"",c&&(l=!0)}return parseFloat(m)}function y(m){function w(_){return parseFloat(_)*100+"%"}function L(_){return _+c}return N?w(m):L(m)}function A(m,w){const L={"||":(_,S)=>_||S,"&&":(_,S)=>_&&S,"==":(_,S)=>_==S,"!=":(_,S)=>_!=S,">=":(_,S)=>_>=S,"<=":(_,S)=>_<=S,">":(_,S)=>_>S,"<":(_,S)=>_<S,"+":(_,S)=>_+S,"-":(_,S)=>_-S,"/":(_,S)=>_/S,"*":(_,S)=>_*S,"%":(_,S)=>_%S};if(m.type==="TEXT"){let _=g(m.value);if(["+","-","*","/","%"].includes(w)&&typeof _!="number")throw B(9,m.loc,m.value);return _}if(m.type==="VARIABLE")return A(d(m,p),w);if(m.type==="CALL")return A(u(m,p),w);if(m.type==="BINARY"){let _=A(m.left,m.operator.value),S=A(m.right,m.operator.value);return L[m.operator.value](_,S)}throw B(8,m.loc,m.type+":"+m.value)}let C=A(h,h.operator.value);return{...h,type:"TEXT",value:y(C)}}return r(e,t)}const Ut=(e,t)=>Pt(e,t);function Pt(e,t){function r(l,c){switch(l.type){case"DECLARATION":return n(l,c);case"MIXIN":case"FUNCTION":return k(l,c);case"RETURN":return R(l,c);case"CONTENT":return h(c);case"INCLUDE":return p(l,c);case"RULE":case"BODY":return N(l,c);case"EXTEND":return l;case"IFSTATEMENT":return E(l,c);case"EACHSTATEMENT":return u(l,c);case"Atrule":return d(l,c);case"ERROR":throw new Error(M(l.value,c).value);default:throw B(6,l.loc,l.type)}}function n(l,c){return l.left.type==="VARIABLE"?(c.env.def(l.left.value,M(l.right,c).value),V()):(l.left.type==="VAR_KEY"&&(l.left=M(l.left,c)),l.right=M(l.right,c),l)}function a(l,c){return l.prelude.children=l.prelude.children.map(g=>(g.children=g.children.map(y=>(y.type==="MediaFeature"&&(y.value=M(y.value,c)),y)),g)),l.block=r(l.block,c),l}function f(l,c){return l.prelude.children=l.prelude.children.map(g=>(g.type==="VAR_KEY"&&(g=M(g,c)),g)),l.block=r(l.block,c),l}function d(l,c){if(l.name==="media")return a(l,c);if(pe(l.name))return f(l,c)}function u(l,c){let g=ce(l),y=M(g.right,c),A=c.env.extend(),C=[];y.type==="TEXT"&&(C=y.value.split(/,|\s+/).filter(w=>w!==""));let m=C.map(w=>(g=ce(l),A.def(g.left.value,w),r(g.body,{...c,env:A})));return ne(Y(W("")),m,l.loc)}function E(l,c){function g(y,A){let C=y;return(C.type==="VARIABLE"||C.type==="BINARY")&&(C=M(y,A)),!(C.value==="0"||C.value==="false")}return g(l.test,c)?r(l.consequent,c):l.alternate?r(l.alternate,c):V()}function k(l,c){function g(){let y=ce(l),A=y.params,C=c.env.extend();function m(w){return w.map(L=>{let _=L;return L.type==="DECLARATION"&&(_={type:"VARIABLE",value:L.left.value},r(L,{...c,env:C})),_})}if(A=m(A),A.forEach((w,L)=>{w.type==="VARIABLE"&&arguments[L]&&C.def(w.value,arguments[L])}),l.type==="FUNCTION")return r(y.body,{...c,env:C}),C.get("@return","RETURN");if(l.type==="MIXIN")return r(y.body,{...c,env:C})}return c.env.def(l.id.value,g,l.type),V()}function R(l,c){let g=M(l.argument,c);return c.env.def("@return",g.value,l.type),V()}function h(l){return l.env.get("@content","CONTENT")}function p(l,c){let g=c.env.get(l.id.value,"MIXIN");return l.content&&c.env.def("@content",r(l.content,c),"CONTENT"),we(g,l,c)}function N(l,c){function g(A){let C=[];return A.forEach(m=>{m.type==="BODY"?C=C.concat(g(m.children)):C.push(m)}),C}let y=c.env;return l.type==="RULE"&&(y=c.env.extend()),l.children=l.children.map(A=>r(A,{...c,env:y})).filter(A=>!z(A)),l.type==="RULE"&&l.selector.value.type==="LIST"&&(l.selector.value=M(l.selector.value,{...c,env:y})),l.children=g(l.children),l}return r(e,t)}function Dt(e,t){return Mt(e,{nodeTransforms:[Ut],...t}),e}function _e(e,t={filename:"default.scss",source:""}){let r=fe(e,t);return Dt(r,{...t}),Tt(r,t)}const se={value:"",mode:"sass",indentUnit:4,theme:"mdn-like",height:"100px",lineNumbers:!0,smartIndent:!0,tabSize:2,indentWithTabs:!1,lineWrapping:!0,autofocus:!0,gutters:["CodeMirror-lint-markers"],lint:{options:{rules:{"no-empty-rulesets":1}}}};let ge=`$margin: 10px;
.main2{
    margin: $margin;
}
.main {
    .child1{
        .child2{
            color:green;
        }
        .child3{
            color:red;
        }
    }
}
$property2 : skew(30deg, 20deg);
@mixin transform($property,$property2) {
  -webkit-transform: $property;
  -ms-transform: $property;
  transform: $property $property2;
}
.box { 
  @include transform(rotate(30deg),$property2); 
}
`;const Wt=()=>{const e=G(null),t=G(null),r=G(null);let n=ge,a=_e(n).code,f=fe(n,{source:n,filename:"default.scss"}),d,u,E;function k(p){let N=p.loc.start.line,l=p.loc.start.column,c=p.loc.end.offset-p.loc.start.offset,g=n.split(`
`)[N-1];return`${p.message.split(`
`)[0]}
╷
│${g}
│${" ".repeat(l-1)}${"^".repeat(c)}
╵
stdin ${N}:${l} root stylesheet on line ${N} at column ${l}
        `}const R=()=>{let p="";try{p=_e(n).code,f=fe(n,{source:n,filename:"default.scss"})}catch(N){console.log(N),p=k(N)}u.setOption("value",p),E.setOption("value",p)},h=()=>{d||(d=CodeMirror(e.value,{...se,mode:"sass",value:ge}),d.on("change",p=>{n=p.getValue(),window.requestAnimationFrame(R)}),d.setSize(null,"100%")),u||(u=CodeMirror(t.value,{...se,mode:"css",value:a}),u.setSize(null,"100%")),E||(E=CodeMirror(r.value,{...se,mode:{name:"javascript",json:!0},value:JSON.stringify(f)}),E.setSize(null,"100%"))};return Te(()=>{console.log("use code mounted!"),h()}),{sassRef:e,cssRef:t,precompileAstRef:r}},$t={name:"SassPlayground",setup(e,t){const r=G("hidden"),{sassRef:n,cssRef:a,precompileAstRef:f}=Wt();Te(()=>{console.log("sass playground mounted!")});function d(){r.value==="hidden"?r.value="dist-precompile-ast-editor":r.value="hidden"}return{sassRef:n,cssRef:a,precompileAstRef:f,toggleAst:d,astEditorCls:r}}},Ie=e=>(We("data-v-b951bf60"),e=e(),$e(),e),Bt={class:"sass-playground"},Vt={class:"editor"},Xt={class:"source-editor"},Ft=Ie(()=>x("div",{class:"head-scss"},[x("span",null,"SCSS"),x("span",{class:"info-scss"},[he("This is "),x("a",{href:"https://github.com/wizardpisces/tiny-sass-compiler",target:"__blank"},"Tiny-Sass-Compiler"),he("'s Demo")])],-1)),Kt={class:"content",ref:"sassRef"},Yt={class:"dist-editor"},jt=Ie(()=>x("div",{class:"head-css"},"CSS",-1)),Jt={class:"content",ref:"cssRef"};function zt(e,t,r,n,a,f){return Pe(),De("div",Bt,[x("div",Vt,[x("div",Xt,[Ft,x("div",Kt,null,512)]),x("div",Yt,[jt,x("div",Jt,null,512)])])])}const Qt=Ue($t,[["render",zt],["__scopeId","data-v-b951bf60"]]);export{Qt as default};
